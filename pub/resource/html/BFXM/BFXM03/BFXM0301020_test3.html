
<!DOCTYPE html>
<html lang="ko">
<head>
<!-- 공통 meta -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>하나은행</title>
<!-- 공통 css -->
<link rel="stylesheet" href="../../../../resource/css/common.css" type="text/css">
<link rel="stylesheet" href="../../../../resource/css/components.css" type="text/css">
<link rel="stylesheet" href="../../../../resource/css/bank.css" type="text/css">
<!-- Hana FX market CSS -->
<link rel="stylesheet" href="../../../../resource/css/fxmarket.css" type="text/css">
<style>
    .fx-coins-wrap {position:fixed;top:20%;right:0;left:0;width:100vw;height:50vh;}
    .fx-coin-item {position:absolute;top:0;left:0;width:30px;height:30px;transition:opacity 2s;}
</style>
</head>
<body>
<div id="wrap" class="wrap">
    <!-- header -->
    <div id="header" class="app-header">
        <button class="app-header__button app-header__button--back" title="이전 화면"></button>
        <h1 class="app-header__title">거래하기</h1> <!-- 2022-04-18 타이틀 변경(SB_v1.0.02) -->
        <!-- <button class="app-header__button app-header__button--home" title="메인 화면"></button> -->
        <button class="app-header__button app-header__button--hamburger" title="전체 메뉴"></button>
    </div>
    <!-- //header -->
    <!-- Content -->
    <div id="content" class="app-main fxmarket">
        <div class="container fx-complete"> <!-- 2022-04-18 fx-complete 클래스 추가(SB_v1.0.02) -->
            <div class="icon-wrap">
                <!-- 아이콘 영역 디자인 미정 작업예정 -->
                <i class="icon-wrap__icon icon-wrap__icon--check" aria-hidden="true"></i>
                <!-- //아이콘 영역 디자인 미정 작업예정 -->

                <!-- 2022-04-18 마크업 추가 및 수정(SB_v1.0.02) -->
                <p class="icon-wrap__icon-word">
                    USD <em class="bold">500,000</em>을<br>
                    <span class="color-000"><em class="bold">602,750,000</em>원</span>에 샀습니다.
                </p>
                <p class="icon-wrap__description">적용환율 <span>1,205.50</span></p> 
                <div class="gray-box gray-box--center"> 
                    <p class="icon-wrap__description">환율(Spread) <span>80</span>% 우대로 <br>
                        <em class="txt-buy"><span class="bold">2,500,000</span>원 더 싸게 샀어요!</em>
                    </p>
                </div>
                <div class="round-link">
                    <div class="round-link__item">
                        <a href="#none" class="round-link__anchor round-link__anchor--icon"> <!-- to.개발 | 해외주식 선택하기로 이동 -->
                            <i class="round-link__anchor--icon__image" aria-hidden="true"></i>
                            <p class="round-link__txt">
                                <span class="bold"><em class="key-txt">달러 장보기</em> 완료!</span><br>해외주식 하러 가보자~
                            </p>
                        </a>
                    </div>
                </div>
                <!-- // 2022-04-18 마크업 추가 및 수정(SB_v1.0.02) -->
            </div>
            <!-- <div class="icon-wrap">
                <i class="icon-wrap__icon icon-wrap__icon--no-data" aria-hidden="true"></i>
                <div class="icon-wrap__icon-word">
                    거래 중 오류가 발생했습니다.
                </div>
            </div> -->
        </div>
                    
        <div class="container fx-complete-list"> <!-- 2022-04-18 fx-complete-list 클래스 추가(SB_v1.0.02) -->
            <div class="list-section">
                <!-- 2022-04-18 파는금액,우대금액 삭제(SB_v1.0.02) -->
                <!-- 2022-04-18 항목수정(SB_v1.0.02) -->   
                <ul class="list-wrap" style="display: none;" data-element="toggle-list">
                    <li class="list-wrap__item">
                        <div class="list-wrap__box">
                            <strong class="list-wrap__title list-wrap__title--value">거래후 원화 잔액</strong>
                        </div>
                        <div class="list-wrap__box list-wrap__box--unit">
                            <strong class="list-wrap__text list-wrap__text--value">
                                <em class="eng">123,112,999</em>원
                            </strong>
                        </div>
                    </li>
                    <li class="list-wrap__item">
                        <div class="list-wrap__box">
                            <strong class="list-wrap__title list-wrap__title--value">원화계좌</strong> 
                        </div>
                        <div class="list-wrap__box list-wrap__box--unit">
                            <strong class="list-wrap__text list-wrap__text--value">
                                <em class="account">급여하나통장</em><br>
                                <em class="number eng">123-123456-12345</em>
                            </strong>
                        </div>
                    </li>
                    <li class="list-wrap__item">
                        <div class="list-wrap__box">
                            <strong class="list-wrap__title list-wrap__title--value">외화계좌</strong>
                        </div>
                        <div class="list-wrap__box list-wrap__box--unit">
                            <strong class="list-wrap__text list-wrap__text--value">
                                <em class="account">하나밀리언달러통장</em><br>
                                <em class="number eng">123-123456-12345</em>
                            </strong>
                        </div>
                    </li>
                </ul>
                <!-- // 2022-04-18 항목수정(SB_v1.0.02) -->   
            </div>
            <!-- // 2022-04-18 마크업 수정(SB_v1.0.02) -->
        </div>
        <div class="container flex">
            <button type="button" class="btn-share"><span class="btn-share__text">자랑할래요</span></button> <!-- 2022-04-18 문구변경(SB_v1.0.02) -->
            <button type="button" class="button-simple button-simple--right" data-element="toggle-btn">펼치기</button>
        </div>
        <!-- // 2022-04-18 마크업 수정(SB_v1.0.02) -->
    </div>
    <!-- //Content -->
    <!-- footer -->
    <div id="footer" class="app-footer app-footer--button">
        <div class="button-wrap">
            <button type="button" class="button button--active">추가 매매</button> <!-- 2022-04-18 띄어쓰기 수정(SB_v1.0.02) -->
            <button type="button" class="button button--positive">확인</button><!--to.개발 | 비활성화 button button--disabled 활성화 button button--positive-->
        </div>
    </div>
    <!-- //footer -->
</div>

<!-- 공통 script -->
<script src="../../../../resource/library/jquery/jquery-3.4.1.min.js"></script>
<script src="../../../../resource/library/slick/slick.js"></script>
<script src="../../../../resource/library/dnd/touch-dnd.js"></script>
<script src="../../../../resource/js/ui/pualugin.js"></script>
<script src="../../../../resource/js/ui/common.js"></script>
<script>
    let coins = [];
    let coinsWrap;
    let coinLen = 30; 
    let coinSize = [15,20,30,40];
    
    function coinPop() {
        coinsWrap = document.createElement('div');
        coinsWrap.classList.add('fx-coins-wrap');
        document.querySelector('#content').append(coinsWrap);
        for (let i = 0; i < coinLen; i++) {
            let coin = document.createElement('span');
            coin.classList.add('fx-coin-item');
            coin.x = window.innerWidth * 0.5;
            coin.y = Math.random() * window.innerHeight * 0.3;
            coin.rotate = 0;
            coin.vel = {
                x: (Math.random() - 0.5) * 10,
                y: Math.random() * -13,
                rotate : Math.random() * 10,
            };
            coin.mass = Math.random() * 0.2 + 0.4;
            coins.push(coin);
            let coinImage = Math.floor(8 * Math.random()) + 1;
            let coinRandomSize = Math.floor(coinSize.length * Math.random()) + 1;
            coin.style.transform = `translate(${coin.x}px, ${coin.y}px) rotate(${coin.rotate}deg)`;
            coin.style.width = coinSize[coinRandomSize] + 'px';
            coin.style.height = coinSize[coinRandomSize] + 'px';
            coin.style.background = 'url(../../../images/fxmarket/img_complete_coin'+ coinImage + '.png) no-repeat 0 0 / 100%';
            coinsWrap.append(coin);
        }
    } 
 
    function coinRender() {
        for (let i=coins.length-1; i--; i >= 0) {
            let coin = coins[i];
            coin.style.transform = `translate3d(${coin.x}px, ${coin.y}px, 1px) rotate(${coin.rotate}deg)`;
            coin.rotate += coin.vel.rotate;
            coin.x += coin.vel.x;
            coin.y += coin.vel.y;
            coin.vel.y += coin.mass;
            if (coin.y > window.innerHeight) {
                coin.remove();
            }
        }
        coinsWrap.lastChild.style.display = 'none';
        requestAnimationFrame(coinRender);
    } 
    
    // 데이터가 모두 로딩된 후 함수실행
    window.addEventListener('load', function () {
        coinPop();
        coinRender();
    });
</script>
</body>
</html>