<!DOCTYPE html>
<html lang="ko">

<head>
    <!-- 공통 meta -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>하나은행</title>
    <!-- 공통 css -->
    <link rel="stylesheet" href="../../../../resource/css/common.css" type="text/css">
    <link rel="stylesheet" href="../../../../resource/css/components.css" type="text/css">
    <link rel="stylesheet" href="../../../../resource/css/bank.css" type="text/css">
    <!-- Hana FX market CSS -->
    <link rel="stylesheet" href="../../../../resource/css/fxmarket.css" type="text/css">
    <style>
        .fxmarket__pull {padding-top:3.5rem;padding-top:calc(3.5rem + constant(safe-area-inset-top));padding-top:calc(3.5rem + env(safe-area-inset-top));}
        .fx-rateboard {position:relative;min-height:15.25rem;padding:1rem 1.5rem 0;}
        .fx-rateboard .button-alert {width:auto;height:3rem;margin:0;padding:0;font-size:0.813rem;color:#fff;}
        .fx-rateboard .button-alert .icon-moon {display:inline-block;width:0.5rem;height:0.563rem;margin-right:0.3rem;background:url(../../../images/fxmarket/icon_moon.png) no-repeat 0 0 / 100%;}
        .fx-rateboard .button-select__flex {z-index:10;position:relative;display:flex;justify-content:space-between;}
        .fx-rateboard .button-select__item {width:auto;height:3rem;padding:0 2.5rem 0 0;font-size:1rem;font-weight:400;border:0;background-color:inherit;color:#000;line-height:1.4;}
        
        .tab__type--small {margin-top:0.313rem;}
        .tab__type--small .tab-wrap__menu:before {content:none;}
        .tab__type--small .tab-wrap__item {width:auto;border-radius:0.438rem;}
        .tab__type--small .tab-wrap__item ~ .tab-wrap__item {margin-left:-0.313rem;}
        .tab__type--small .tab-wrap__button {z-index:10;padding:0.375rem 1.313rem;border-radius:0.313rem;background:#666;color:#b4b4b4;line-height:1;}
        .tab__type--small .tab-wrap__button.is-active {z-index:20;background:#fff;color:#333!important;}
        .tab__type--small .tab-wrap__button.is-active:before {content:none;}
        .tab__type--small .tab-wrap__button.is-active:after {z-index:0;content:'';background:#fff;}
        .tab__type--small .tab-content {position:absolute;top:0;right:0;bottom:0;left:0;}
        .tab__type--small .tab__panel {height:100%;padding:7.5rem 2.125rem 0;}
        .tab__type--small .tab__panel--buy {background:#f0d4b4 url(../../../images/fxmarket/img_fxtrade_buy.png) no-repeat calc(100% - 1.5rem) 100% / 9.625rem;}
        .tab__type--small .tab__panel--sell {background:#c1e2eb url(../../../images/fxmarket/img_fxtrade_sell.png) no-repeat calc(100% - 1.5rem) 100% / 9.625rem;}

        .fx-rate__item--del {font-size:1rem;color:#61605c;}
        .fx-rate__item--ins {font-size:1.5rem;font-weight:500;text-decoration:none;color:#000;line-height:1.25;}
        
        .fx-rateboard .fx-refresh {position:absolute;top:4.6rem;right:1.5rem;}
        .fx-refresh .fx-refresh__txt {font-size:0.875rem;color:#555;}

        .fx-rateboard .fx-spread {position:absolute;bottom:2rem;left:2.215rem;font-size:0.813rem;}
        .fx-spread__grade {display:inline-block;padding-left:1.125rem;font-weight:500;}
        .fx-spread__grade--type01 {background:url(../../../images/fxmarket/icon_spread_grade01.png) no-repeat 0 50% / 0.688rem;}

        .icon__moon-yellow {display:block;width:2.5rem;height:3rem;margin:0 auto 1rem;background:url(../../../images/fxmarket/icon_moon_yellow.png) no-repeat 0 0 / 100%;}

        .fx-rateinfo .white-box {border:0;border-radius:initial;background:transparent;}
        .fx-rateinfo .white-box__header {padding:0.75rem 0 0.5rem;}
        .fx-rateinfo .white-box__content {padding:0;border:0;}

        .fx-compare {display:flex;align-items:center;justify-content:space-between;}
        .fx-compare .fx-compare__txt {display:flex;align-items:center;font-size:0.813rem;font-weight:500;color:#000;line-height:1;}
        .fx-compare__txt--high {font-size:1.25rem;color:#f4466a;}
        .fx-compare__txt--low {font-size:1.25rem;color:#2396e7;}
        .fx-compare__txt--same {font-size:1.25rem;color:#666;}

        .fx-progress {margin-top:4.063rem;}
        .fx-progress .progress__bg {overflow:visible;position:relative;display:block;width:100%;height:0.625rem;margin-top:0;background:linear-gradient(90deg, #dbdbdb, #dbdbdb 1px, transparent 1px, transparent 50%);background-size:calc((100% - 1px) / 2) 100%;border-radius:initial;}
        .fx-progress .progress__bg:after {content:'';position:absolute;top:0;right:0;bottom:0;left:0;height:0.125rem;margin:auto;background:#dbdbdb;}
        .fx-progress .progress__bar {overflow:visible;position:relative;height:100%;margin:0;padding-left:0.6rem;background:none;border-radius:initial;text-align:right;}
        .fx-progress .progress__bar:after {content:'';z-index:10;position:absolute;right:0;width:0.375rem;height:0.5rem;background:url(../../../images/fxmarket/bg_process_low.png) no-repeat 0 0 / 100%;line-height:1;}
        .fx-progress .progress__text-wrap {display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;margin-top:0.563rem;}
        .fx-progress .progress__tooltip--text {display:block;font-size:0.75rem;color:#138fe5;line-height:1.2;}
        .fx-progress .progress__tooltip--value {display:block;font-size:0.875rem;font-weight:500;color:#138fe5;line-height:1.3;}
        .fx-progress .progress__item {padding-bottom:0;}
        .fx-progress .progress__text {display:block;font-size:0.75rem;}
        .fx-progress .progress__item--left .progress__text {color:#168bdc;text-align:left;}
        .fx-progress .progress__item--center .progress__text {color:#000;text-align:center;}
        .fx-progress .progress__item--center .progress__rate {color:#757575;}
        .fx-progress .progress__item--right .progress__text {color:#f4466a;text-align:right;}
        .fx-progress .progress__tooltip {position:absolute;top:-3.5rem;display:inline-block;width:4.563rem;margin-left:-2.5rem;padding:.375rem 0;border:1px solid #83c9f0;border-radius:0.313rem;text-align:center;}
        .fx-progress .progress__tooltip:before {content:'';position:absolute;bottom:-0.5rem;left:50%;width:0.625rem;height:0.5rem;margin-left:-0.3125rem;background:url(../../../images/fxmarket/bg_bulloon_tail.png) no-repeat 0 0 / 100%;}
        .progress__bar--average .progress__tooltip {margin-left:-2.3rem;border-color:#ccc;}
        .progress__bar--average .progress__tooltip--text {color:#666;}
        .progress__bar--average .progress__tooltip--value {color:#666;}
        .progress__bar--average .progress__tooltip:before {background:url(../../../images/fxmarket/bg_bulloon_tail_gray.png) no-repeat 0 0 / 100%;}
        .fx-progress .progress__bar--average:after {content:none;}
        .fx-progress .progress__bar--over:after {content:'';right:auto;background:url(../../../images/fxmarket/bg_process_high.png) no-repeat 0 0 / 100%;}
        .progress__bar--over .progress__tooltip {margin-left:-2.1rem;border-color:#f08395;}
        .progress__bar--over .progress__tooltip:before {background:url(../../../images/fxmarket/bg_bulloon_tail_red.png) no-repeat 0 0 / 100%;}
        .progress__bar--over .progress__tooltip--text {color:#f4466a;}
        .progress__bar--over .progress__tooltip--value {color:#f4466a;}
        .fx-progress .progress__bar--max:after {right:1px;}
        .progress__bar--max .progress__tooltip {margin-left:0;left:auto;right:-0.6rem;}
        .progress__bar--max .progress__tooltip:before {left:80%;}
        .progress__bar--min .progress__tooltip {margin-left:-1.1rem;}
        .progress__bar--min .progress__tooltip:before {left:20%;}

        .fx-rate__graph {margin-top:1.688rem;}
        .fx-graph__control {display:flex;align-items:center;justify-content:space-between;}
        .fx-graph__control .select-button__item {height:2rem;font-size:0.875rem;color:#999;background:none;}
        .fx-graph__control .select-button__item:before {border:0;}
        .fx-graph__control .select-button__input:checked + .select-button__item {color:#138fe5;}
        .fx-graph__control .select-button__input:checked + .select-button__item:before {content:none;}

        .button-select__edit .button-select__item {background:url(../../../images/C/icon_edit_gray.png) no-repeat calc(100% - 1.188rem) 50% / 0.75rem;}

        .label-balloon .label-line__item {position:relative;padding:0.25rem 0.313rem;border-radius:.25rem .25rem 0 .25rem;}
        .label-balloon .label-line__item:after {content:'';position:absolute;right:-1px;bottom:-0.313rem;width:0.25rem;height:0.313rem;}
        .label-line__item--direct {border-color:#f64b6e;color:#f64b6e;}
        .label-line__item--direct:after {background:url(../../../images/fxmarket/bg_label_tail_red.png) no-repeat 0 0 / 100%;}
        .label-line__item--mar {border-color:#52c400;color:#81bb4c;}
        .label-line__item--mar:after {background:url(../../../images/fxmarket/bg_label_tail_green.png) no-repeat 0 0 / 100%;}
        .label-line__item--reserve {border-color:#ee9d46;color:#ee9d46;}
        .label-line__item--reserve:after {background:url(../../../images/fxmarket/bg_label_tail_yellow.png) no-repeat 0 0 / 100%;}

        .fx-exchange .checkbox-wrap {width:2.375rem;height:3.5rem;}
        .fx-exchange .checkbox-wrap__label {display:block;width:100%;padding-left:0;background:url(../../../images/fxmarket/btn_currency_switch.png) no-repeat 0 50% / 1.438rem;}
        .fx-exchange .checkbox-wrap__label:before {content:none;}
        .fx-exchange .input-wrap {align-items:flex-start;margin:0;}
        .fx-exchange .input-wrap .input {margin:0;}
        .fx-exchange .input__optional {width:0.75rem;padding-top:1rem;text-align:center;}
        .fx-exchange .input__optional ~ .input {max-width:3.75rem;}

        .amount-list {position:relative;margin:3.563rem 0 0 0;padding:0.625rem 0 0 0;border-top:1px solid #f0f0f0;}
        .amount-list .list-wrap__title {font-size:0.875rem;}
        .amount-list .list-wrap__text--value {font-size:0.875rem;color:#666;}
        .checkbox-content .amount-list {position:absolute;left:1.5rem;right:1.5rem;margin:0.875rem 0 0 0;padding:0;border:0;}
        .checkbox-content .amount-list .list-wrap__title {font-size:1rem;}
        .checkbox-content .amount-list .list-wrap__text--value {font-size:1rem;}
        .checkbox-content .amount-list .list-wrap__currency {margin-left:3.125rem;font-size:1rem;color:#666;}
    </style>
</head>

<body>
    <div id="wrap" class="wrap">
        <!-- header -->
        <div id="header" class="app-header">
            <button class="app-header__button app-header__button--back" title="이전 화면"></button>
            <h1 class="app-header__title">FX 거래</h1>
            <button class="app-header__button app-header__button--home" title="메인화면"></button>
            <button class="app-header__button app-header__button--hamburger" title="전체메뉴"></button>
        </div>
        <!-- //header -->
        
        <!-- content -->
        <div id="content" class="app-main fxmarket fxmarket__pull">
            <div class="container container--full">
                <div class="fx-rateboard">
                    <div class="button-select__flex">
                        <!-- 개발 | 통화선택 공통레이어팝업 호출 -->
                        <button type="button" class="button button-select__item" data-element="modal__open" data-target="#" title="통화 선택">
                            <i class="icon-na"><img src="../../../images/symbols/na_US.png" alt="미국"></i>
                            <span>USD</span>
                        </button>
                        <!-- 개발 | 15:30분부터 익일 09시까지만 노출 / 제어클래스 blind -->
                        <button type="button" class="button button-alert" data-element="modal__open" data-target="#aftermarket">
                            <i class="icon-moon" aria-hidden="true"></i><span>After Market</span>
                        </button>
                    </div>
                    
                    <div class="tab tab__type--small" data-element="tab">
                        <div class="tab-wrap">
                            <ul class="tab-wrap__menu" role="tablist">
                                <li class="tab-wrap__item" data-element="tab__list">
                                    <a href="#" class="tab-wrap__button is-active" data-element="tab__anchor">살래요</a>
                                </li>
                                <li class="tab-wrap__item" data-element="tab__list">
                                    <a href="#" class="tab-wrap__button" data-element="tab__anchor">팔래요</a>
                                </li>
                            </ul>
                        </div>
                        <div class="tab-content">
                            <!-- 살래요 탭 -->
                            <div class="tab__panel tab__panel--buy is-active" data-element="tab__panel">
                                <ul class="fx-rate__list">
                                    <li class="fx-rate__item">
                                        <span class="offscreen">고시환율</span>
                                        <del class="fx-rate__item--del">1210.50</del>
                                    </li>
                                    <li class="fx-rate__item">
                                        <span class="offscreen">적용환율</span>
                                        <ins class="fx-rate__item--ins">1205.50</ins>
                                    </li>
                                </ul>
                            </div>
                            <!-- 팔래요 탭 -->
                            <div class="tab__panel tab__panel--sell" data-element="tab__panel">
                                <ul class="fx-rate__list">
                                    <li class="fx-rate__item">
                                        <span class="offscreen">고시환율</span>
                                        <del class="fx-rate__item--del">1190.50</del>
                                    </li>
                                    <li class="fx-rate__item">
                                        <span class="offscreen">적용환율</span>
                                        <ins class="fx-rate__item--ins">1195.50</ins>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="fx-refresh">
                        <div class="fx-refresh__txt">
                            <em class="fx-refresh__txt--sec"></em>초 후 갱신
                            <button type="button" class="button-refresh" aria-label="환율정보 새로고침"></button>
                        </div>
                    </div>

                    <div class="fx-spread">
                        <!-- 개발 | 등급미정 추후 작업예정 -->
                        <em class="fx-spread__grade fx-spread__grade--type01">등급</em> 환율우대 스프레드 <em class="spread__rate">80%</em> 적용중
                    </div>
                </div>
            </div>
            
            <div class="container">
                <div class="fx-rateinfo">
                    <div class="white-box" data-element="toggle">
                        <div class="white-box__header" data-element="toggle__anchor" aria-expanded="false">
                            <div class="list-wrap__item list-wrap__item--arrow">
                                <div class="list-wrap__box">
                                    <strong class="title">환율정보</strong>
                                </div>
                                <div class="list-wrap__box list-wrap__box--button"></div>
                            </div>
                        </div>
                        <div class="white-box__content" data-element="toggle__panel">
                            <!-- 
                                개발 | 평균가보다 높을 때 :fx-compare__txt--high
                                       평균가보다 낮을 때 :fx-compare__txt--low
                                       평균가와 같을때 :fx-compare__txt--same
                            -->
                            <div class="fx-compare">
                                <p class="fx-compare__txt">
                                    <span class="fx-period">현재 <span>52주</span> 평균가보다</span> <strong class="fx-compare__txt--high">높네요</strong>
                                    <!-- <span class="fx-period">현재 <span>52주</span> 평균가보다</span> <strong class="fx-compare__txt--low">낮네요</strong> -->
                                    <!-- <span class="fx-period">현재 <span>52주</span> 평균가와</span> <strong class="fx-compare__txt--same">같네요</strong> -->
                                </p>
                                <span class="text-guide-xxsmall">*매매기준율 기준</span>
                            </div>

                            <div class="fx-progress">
                                <div class="progress__bg">
                                    <!-- 개발 | progress__bar width값으로 위치제어 -->
                                    <div class="progress__bar" style="width:40%">
                                        <div class="progress__tooltip">
                                            <span class="progress__tooltip--text">현재가</span>
                                            <span class="progress__tooltip--value">1,190.50</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="progress__text-wrap">
                                    <div class="progress__item progress__item--left">
                                        <span class="progress__text"><span>52주</span> 최저</span>
                                        <span class="progress__text progress__rate">1,000.50</span>
                                    </div>
                                    <div class="progress__item progress__item--center">
                                        <span class="progress__text">평균가</span>
                                        <span class="progress__text progress__rate">1,100.50</span>
                                    </div>
                                    <div class="progress__item progress__item--right">
                                        <span class="progress__text"><span>52주</span> 최고</span>
                                        <span class="progress__text progress__rate">1,200.50</span>
                                    </div>
                                </div>
                            </div>
                           
                            <div class="fx-rate__graph">
                                <div style="height:9rem;background:#f0d4b4">
                                    그래프영역
                                </div>
                                <div class="select-button fx-graph__control">
                                    <div class="select-button__box">
                                        <input type="radio" id="period01" class="select-button__input" name="period">
                                        <label for="period01" class="select-button__item">1D</label>
                                    </div>
                                    <div class="select-button__box">
                                        <input type="radio" id="period02" class="select-button__input" name="period">
                                        <label for="period02" class="select-button__item">1M</label>
                                    </div>
                                    <div class="select-button__box">
                                        <input type="radio" id="period03" class="select-button__input" name="period" checked>
                                        <label for="period03" class="select-button__item">3M</label>
                                    </div>
                                    <div class="select-button__box">
                                        <input type="radio" id="period04" class="select-button__input" name="period">
                                        <label for="period04" class="select-button__item">6M</label>
                                    </div>
                                    <div class="select-button__box">
                                        <input type="radio" id="period05" class="select-button__input" name="period">
                                        <label for="period05" class="select-button__item">12Y</label>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tit-default tit-default--type">
                <span>환율</span>
                <!-- 개발 | 즉시거래 : label-line__item--direct
                            예약거래 : label-line__item--reserve
                            MAR거래 : label-line__item--mar
                -->
                <div class="label-line label-balloon">
                    <div class="label-line__item label-line__item--direct">즉시거래</div>
                    <div class="label-line__item label-line__item--reserve">예약거래</div>
                    <div class="label-line__item label-line__item--mar">MAR거래</div>
                </div>
            </div>
            <div class="container">
                <div class="button-select selected button-select__edit">
                    <button type="button" title="환율 선택" class="button button-select__item">1,250,50</button>
                </div>
            </div>

            <div class="tit-default">원하는 금액</div>
            <div class="container">
                <div class="fx-exchange">
                    <div class="input-wrap">
                        <div class="checkbox-wrap">
                            <input type="checkbox" id="test" class="checkbox-wrap__check">
                            <label for="test" class="checkbox-wrap__label"><span class="offscreen">원화선택</span></label>
                        </div>
                        <div class="checkbox-content w100" data-input-section="check-section-1">
                            <!-- * 오류시 class="input-wrap input-wrap--error" -->
                            <div class="input-wrap input-wrap--wide2"> 
                                <div class="input">
                                    <div class="input__inner">
                                        <input type="text" class="input__element input__no-label input__element--right" title="환산금액입력" placeholder="금액입력" value="">
                                        <span class="input__label" aria-hidden="true">USD</span>
                                        <button type="button" class="input__remove-button" title="텍스트삭제"></button>
                                    </div>
                                </div>
                                <i class="input__optional">&middot;</i>
                                <div class="input">
                                    <div class="input__inner">
                                        <input type="text" class="input__element input__no-label" title="금액 소수점 입력" value="">
                                    </div>
                                </div>
                            </div>
                            <p class="input-wrap__error align-right" aria-live="assertive">금액은 미국 달러(USD)기준<br>1불 이상 500,000불 이내로 입력하세요</p>
                            <div class="amount-list">
                                <div class="list-wrap__item">
                                    <div class="list-wrap__box list-wrap__flexbox">
                                        <strong class="list-wrap__title">환산금액</strong>
                                        <span class="list-wrap__currency">KRW</span>
                                    </div>
                                    <div class="list-wrap__box list-wrap__box--unit">
                                        <strong class="list-wrap__text list-wrap__text--value"><span>1,000,000</span></strong>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="checkbox-content w100" data-input-section="check-section-2" style="display:none;">
                            <!-- * 오류시 class="input input--error" -->
                            <div class="input input--error"> 
                                <div class="input__inner">
                                    <input type="text" class="input__element input__no-label input__element--right" title="환산금액입력" placeholder="금액입력">
                                    <button type="button" class="input__remove-button" title="텍스트삭제"></button>
                                </div>
                                <p class="input__error align-right p-static" aria-live="assertive">금액은 미국 달러(USD)기준<br>1불 이상 500,000불 이내로 입력하세요</p>
                            </div>
                            <div class="amount-list">
                                <div class="list-wrap__item">
                                    <div class="list-wrap__box list-wrap__flexbox">
                                        <strong class="list-wrap__title">환산금액</strong>
                                        <span class="list-wrap__currency">USD</span>
                                    </div>
                                    <div class="list-wrap__box list-wrap__box--unit">
                                        <strong class="list-wrap__text list-wrap__text--value"><span>1,000.00</span></strong>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="amount-list">
                        <div class="list-wrap__item">
                            <div class="list-wrap__box">
                                <strong class="list-wrap__title">거래가능잔액</strong>
                            </div>
                            <div class="list-wrap__box list-wrap__box--unit">
                                <strong class="list-wrap__text list-wrap__text--value"><span>1,000,000</span> 원</strong>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        
            <div class="tit-default">예약기간</div>
            <div class="container">
                <div class="input-wrap">
                    <div class="input">
                        <!--
                            * 오류시 class="input input--error"
                            * 데이터가 초기에 자동으로 입력되어 있을때 class="input input--on"
                        -->
                        <div class="input__inner">
                            <input type="text" id="inputText01" class="input__element input-date" title="예약일자 시작일" value="2022-02-22" readonly>
                            <button type="button" class="input__calendar-button" aria-label="예약일자 시작일 선택"></button>
                        </div>
                    </div>
                    <i class="input__optional">-</i>
                    <div class="input">
                        <!--
                            * 오류시 class="input input--error"
                            * 데이터가 초기에 자동으로 입력되어 있을때 class="input input--on"
                        -->
                        <div class="input__inner">
                            <input type="text" id="inputText02" class="input__element input-date" title="예약일자 종료일" value="2022-03-21" readonly>
                            <button type="button" class="input__calendar-button" aria-label="예약일자 종료일 선택"></button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="aftermarket" class="modal modal--alert" data-element="modal__element" role="dialog" aria-modal="true" aria-hidden="true">
                <div class="modal__container" data-element="modal__element-container">
                    <div class="modal__header">
                        <h1 class="modal__header--title" data-element="focus" tabindex="0">After Market 알림</h1>
                    </div>
                    <div class="modal__contents">
                        <p class="modal__description align-center">
                            <i class="icon__moon-yellow"></i><em class="color-333 fw-500">After Market 시간</em>에는<br>환율 고시가 상대적으로 느리게 일어나며<br>호재 및 악재가 완전히 반영되기 전<br>저가/고가거래가 일어나 가격 변동성이<br>클 수 있으니 매매시 유의해주세요.
                        </p>
                    </div>
                    <div class="modal__button-wrap">
                        <button type="button" class="button button--positive" data-element="modal__close">확인</button>
                    </div>
                    <button class="modal__btn--close" type="button" data-element="modal__close" title="닫기"></button>
                </div>
            </div>
        </div>
        <!-- //content -->
        <!-- footer -->
        <div id="footer" class="app-footer app-footer--button">
            <div class="button-wrap">
                <button type="button" class="button button--positive">살래요</button>
                <!--to.개발 | 비활성화 button button--disabled 활성화 button button--positive-->
            </div>
        </div>
        <!-- //footer -->
    </div>
    <!-- 공통 script -->
    <script src="../../../../resource/library/jquery/jquery-3.4.1.min.js"></script>
    <script src="../../../../resource/library/slick/slick.js"></script>
    <script src="../../../../resource/library/dnd/touch-dnd.js"></script>
    <script src="../../../../resource/js/ui/pualugin.js"></script>
    <script src="../../../../resource/js/ui/common.js"></script>
    <script src="../../../../resource/js/ui/numberAnimate.js"></script>
    <script>
        var fxtrade = fxtrade || {};
        fxtrade = (function(){
            var init, fxrateInfoControl, fxrollingEvt, refreshTimer, progressposSet, currencyChange;

            var fxData = { // 더미데이터 세팅
                buying :{ before :'1,210.50', after :'1,205.50'}, // before : 고시환율, after : 스프레드 적용환율
                selling :{ before :'1,190.50', after :'1,195.50'}
            }

            // 전역변수 세팅
            var fxtabIdx = $('.tab__type--small .tab-wrap__button.is-active').index();
            var fxtimer;
            var rollingState = false;

            init = function(){
                fxrateInfoControl();
                fxrollingEvt.init();
                refreshTimer();
                refreshTimerClickEvt();
                currencyChange();
                progressposSet($('.fx-progress .progress__bar'), 93); // 대상, 위치값 (0~ 100%)
            }

            fxrateInfoControl = function(){
                $('.fx-rateinfo .white-box__header').trigger('click');
                setTimeout(function(){
                    $('.fx-rateinfo .white-box__header').trigger('click');
                },2000)
            }

            fxrollingEvt = {
                dataPush : function(){
                    var delbuying = $('.tab__panel--buy .fx-rate__item--del');
                    var sellbuying = $('.tab__panel--sell .fx-rate__item--del');
                    var insbuying = $('.tab__panel--buy .fx-rate__item--ins');
                    var insselling = $('.tab__panel--sell .fx-rate__item--ins');
                    switch(fxtabIdx) {
                        case 0 :
                            delbuying.text(fxData.buying.before);
                            fxrollingEvt.rolling(insbuying, fxData.buying.before, fxData.buying.after);
                        break;
                        case 1 :
                            sellbuying.text(fxData.selling.before);
                            fxrollingEvt.rolling(insselling, fxData.selling.before, fxData.selling.after);
                        break;
                    }
                },
                rolling : function(target, before, after){ // 대상(팔래요or살래요), 고시환율, 스프레드적용환율
                    target.text(before).numberAnimate();
                    setTimeout(function(){
                        target.numberAnimate('set', after);
                        setTimeout(function(){
                            rollingState = true;
                        },500)
                    },1000)
                },
                fxTabControl : function(){
                    $('.tab__type--small .tab-wrap__button').on('click', function(e){
                        fxtabIdx = $(this).parent('.tab-wrap__item').index();
                        clearInterval(fxtimer);
                        refreshTimer();
                        fxrollingEvt.dataSet();
                        fxrollingEvt.dataPush();
                    })
                },
                dataSet : function(){
                    $('.fx-rate__item--ins').numberAnimate('destroy').empty();
                    // 리프레시 데이터 새로 불러와서 세팅
                    fxData.buying.before = '1,210.50';
                    fxData.buying.after = '1,205.50';
                    fxData.selling.before = '1,190.50';
                    fxData.selling.after = '1,195.50';
                },
                init : function(){
                    fxrollingEvt.dataSet();
                    fxrollingEvt.dataPush();
                    fxrollingEvt.fxTabControl();
                }
            }

            refreshTimer = function(){
                var timeSec = 30;
                var timeFunc = function () {
                    $('.fx-refresh__txt--sec').text(timeSec);
                    if (timeSec === 0) {
                        clearInterval(fxtimer);
                    } else {
                        timeSec--;
                    }
                }
                fxtimer = setInterval(timeFunc, 1000);
            }

            refreshTimerClickEvt = function(){
                $('.fx-refresh .button-refresh').on('click', function () {
                    clearInterval(fxtimer);
                    refreshTimer();
                    if(rollingState){
                        fxrollingEvt.dataSet();
                        fxrollingEvt.dataPush();
                        rollingState = false;
                    }
                })
            }
            
            progressposSet = function(el,per){
                // 말풍선 꼬리위치제어
                if(per <= 7) {
                    el.addClass('progress__bar--min');
                } else if(per >= 91) {
                    el.addClass('progress__bar--max');
                } 

                // 말풍선 색상제어
                if(per > 50) {
                    el.addClass('progress__bar--over');
                } else if(per == 50) {
                    el.addClass('progress__bar--average');
                }
                el.css('width', per + '%');
            }

            currencyChange = function(){
                $('.fx-exchange .checkbox-wrap__check').on('change', function(){
                    if($(this).prop('checked')) {
                        $('[data-input-section="check-section-1"]').hide();
                        $('[data-input-section="check-section-2"]').show();
                    } else {
                        $('[data-input-section="check-section-1"]').show();
                        $('[data-input-section="check-section-2"]').hide();
                    }
                    // $('.checkbox-content').toggle()
                })
            }

            return {
                init : init
            }
        })();
     
        $(function(){
            fxtrade.init();
        })
    </script>
</body>
</html>